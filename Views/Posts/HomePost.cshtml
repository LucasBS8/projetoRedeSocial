@model IEnumerable<projetoRedeSocial.Models.Post>

@{
    ViewBag.Title = "Posts";
}

<div class="container">
    <div class="row">
        @foreach (var post in Model)
        {
            <div class="col-4">
                <a asp-action="Details" asp-route-id="@post.postId">
                    <div class="post-card" style="background-color: @post.postCor">
                        @if (!string.IsNullOrEmpty(post.postArquivo))
                        {
                            if (!post.postArquivo.Contains(".mp4"))
                            {
                                <img src="@Url.Content(post.postArquivo)" class="img-fluid rounded-img" alt="Post Image" />
                            }
                            else
                            {
                                <video src="@Url.Content(post.postArquivo)" class="img-fluid rounded-video">
                                    Your browser does not support the video tag.
                                </video>
                            }
                        }
                        else
                        {
                            <div class="post-title">@post.postTitulo</div>
                            <div class="post-desc">@post.postDesc</div>
                        }
                    </div>
                </a>
            </div>
        }
    </div>
</div>

<style>
    .post-card {
        width: 198px;
        height: 198px;
        border: 1px solid #ddd;
        border-radius: 30px;
        margin: 10px;
        text-align: center;
        color: #fff;
        overflow: hidden; /* Ensure content stays within the card */
    }

    .post-title {
        font-size: 1.2em;
        margin-top: 20px;
    }

    .post-desc {
        font-size: 1em;
        margin: 10px 0;
    }

    .rounded-img, .rounded-video {
        width: 198px;
        height: 198px;
        border-radius: 30px;
        object-fit: cover; /* Ensure the media covers the entire area */
    }
</style>

